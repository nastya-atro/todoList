(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{113:function(t,e,n){},114:function(t,e,n){},146:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(9),s=n.n(c),i=(n(113),n(114),n(31)),r=n(58),o=n(68),u=n.n(o),l=n(59),d=n.n(l),j=n(3),b=function(t){return Object(j.jsx)("i",{onClick:t.onClick,style:{backgroundColor:t.colors},className:d()(Object(r.a)({},u.a.active,t.className),u.a.badge)})},f=n(84),_=n.n(f),p=n(19),O=n(16),m=n.n(O),h=n(28),x=n(72),k=n(11),v=n(86),g=n.n(v).a.create({baseURL:"http://localhost:3001/"}),T=function(){return g.get("lists?_expand=color&_embed=tasks")},I=function(){return g.get("colors")},C=function(t){return g.delete("tasks/".concat(t))},E=function(t,e){return g.patch("tasks/".concat(t),{text:e})},N=function(t,e){return g.patch("tasks/".concat(t),{completed:e})},w=function(t,e){return g.post("lists",{name:t,colorId:e})},A=function(t){return g.post("tasks",t)},S=function(t){return g.delete("lists/"+t)},y=function(t,e){return g.patch("lists/".concat(t),{name:e})},L={lists:[],colors:null,activeItem:null,isFetching:!1},G=function(t){return{type:"SET_LISTS",lists:t}},W=function(t){return{type:"SET_COLORS",colors:t}},K=function(t){return{type:"SET_ACTIVE_ITEM",activeItem:t}},R=function(t){return{type:"ADD_NEW_LIST",newList:t}},F=function(t){return{type:"TOOGLE_IS_FETCHING",isFetching:t}},H=function(t){return{type:"REMOVE_LIST",listId:t}},V=function(t,e){return{type:"ADD_NEW_TASK",listId:t,taskObj:e}},D=function(t,e){return{type:"REMOVE_TASK",listId:t,taskId:e}},M=function(t,e){return{type:"CHANGE_TITLE_TASK",id:t,title:e}},B=function(t,e,n){return{type:"CHANGE_TASK_TEXT",listId:t,taskObjId:e,newTaskText:n}},J=function(t,e,n){return{type:"CHANGE_SELECT_TASK",listId:t,taskId:e,completed:n}},X=function(){return function(){var t=Object(h.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:n=t.sent,e(G(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_LISTS":return Object(k.a)(Object(k.a)({},t),{},{lists:e.lists});case"SET_COLORS":return Object(k.a)(Object(k.a)({},t),{},{colors:e.colors});case"SET_ACTIVE_ITEM":return Object(k.a)(Object(k.a)({},t),{},{activeItem:e.activeItem});case"ADD_NEW_LIST":return Object(k.a)(Object(k.a)({},t),{},{lists:[].concat(Object(x.a)(t.lists),[e.newList])});case"TOOGLE_IS_FETCHING":return Object(k.a)(Object(k.a)({},t),{},{isFetching:e.isFetching});case"REMOVE_LIST":return Object(k.a)(Object(k.a)({},t),{},{lists:t.lists.filter((function(t){return t.id!==e.listId}))});case"ADD_NEW_TASK":return Object(k.a)(Object(k.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId&&(t.tasks=[].concat(Object(x.a)(t.tasks),[e.taskObj])),t}))});case"REMOVE_TASK":return Object(k.a)(Object(k.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId&&(t.tasks=t.tasks.filter((function(t){return t.id!==e.taskId}))),t}))});case"CHANGE_TITLE_TASK":return Object(k.a)(Object(k.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.id&&(t.name=e.title),t}))});case"CHANGE_TASK_TEXT":return Object(k.a)(Object(k.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId&&(t.tasks=t.tasks.map((function(t){return t.id===e.taskObjId&&(t.text=e.newTaskText),t}))),t}))});case"CHANGE_SELECT_TASK":return Object(k.a)(Object(k.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId&&(t.tasks=t.tasks.map((function(t){return t.id===e.taskId&&(t.completed=e.completed),t}))),t}))});default:return t}},U=n(171),Z=n(185),Q=n(173),Y=n(175),q=n(186),P=n(176),$=n(42),tt=n.n($),et=Object(U.a)((function(t){return Object(Z.a)({root:{maxWidth:345,marginTop:20},avatar:{backgroundColor:"white"}})})),nt=function(t){et();var e=Object(p.b)(),n=function(t){var n;e((n=t.id,function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(n);case 2:e(X()),e(H(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(j.jsx)("div",{children:Object(j.jsx)(Q.a,{onClick:t.onClick,className:"todo__list",children:t.items.map((function(e,a){return Object(j.jsx)(Y.a,{onClick:function(){t.onClickItem(e)},className:d()(e.noactive,{active:t.activeItem&&t.activeItem.id===e.id})+""+_.a.filter,avatar:Object(j.jsx)(q.a,{"aria-label":"recipe",style:{backgroundColor:e.icon?"grey":e.color.name},children:e.icon?e.icon:e.name.charAt(0).toUpperCase()}),action:Object(j.jsx)(P.a,{"aria-label":"settings",children:t.isRemovable?Object(j.jsx)(tt.a,{onClick:function(){return n(e)}}):null}),title:e.name,subheader:e.tasks&&"".concat(e.tasks.length," task")},a)}))})})},at=n(50),ct=n.n(at),st=function(t){return t.lists.lists},it=function(t){return t.lists.colors},rt=function(t){return t.lists.activeItem},ot=function(t){return t.lists.isFetching},ut=n(96),lt=n(177),dt=n(182),jt=n(91),bt=n.n(jt),ft=Object(U.a)((function(t){return Object(Z.a)({root:{maxWidth:345,marginTop:15,backgroundColor:"rgba(240, 241, 241, 0.432)"},avatar:{backgroundColor:"white"},button:{margin:t.spacing(1),width:"95%"},input:{"& > *":{margin:t.spacing(1),width:"95%"}}})})),_t=function(t){var e=t.colors,n=ft(),c=Object(a.useState)(!1),s=Object(i.a)(c,2),r=s[0],o=s[1],u=Object(a.useState)(3),l=Object(i.a)(u,2),d=l[0],f=l[1],_=Object(a.useState)(""),O=Object(i.a)(_,2),x=O[0],v=O[1],g=Object(p.c)(ot),T=Object(p.b)(),I=function(){o(!r)};Object(a.useEffect)((function(){Array.isArray(e)&&f(e[0].id)}),[e]);return Object(j.jsxs)("div",{className:ct.a.add_list,children:[Object(j.jsx)(nt,{onClickItem:I,onClick:I,items:[{icon:Object(j.jsx)("i",{className:"fas fa-plus"}),name:"Add new List"}]}),r?Object(j.jsxs)(ut.a,{className:n.root,children:[Object(j.jsx)(P.a,{className:ct.a.icon_close,children:Object(j.jsx)(tt.a,{onClick:function(){o(!1),v(""),e&&f(e[0].id)}})}),Object(j.jsx)("form",{className:n.input,noValidate:!0,autoComplete:"off",children:Object(j.jsx)(dt.a,{id:"outlined-basic",label:"Write name of list...",variant:"outlined",onChange:function(t){v(t.currentTarget.value)},value:x,type:"text"})}),Object(j.jsx)("div",{className:ct.a.add_list_popup_colors,children:e&&e.map((function(t){return Object(j.jsx)(b,{className:d===t.id&&ct.a.active,onClick:function(){return f(t.id)},colors:t.name},t.id)}))}),Object(j.jsx)(lt.a,{onClick:function(){if(x){var t=e&&e.filter((function(t){return t.id===d}))[0];T(function(t,e,n){return function(){var a=Object(h.a)(m.a.mark((function a(c){var s,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(F(!0)),a.next=3,w(t,e);case 3:s=a.sent,i=Object(k.a)(Object(k.a)({},s.data),{},{color:n,tasks:[]}),c(X()),c(F(!1)),c(R(i));case 8:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(x,d,t))}else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")},variant:"contained",color:"default",className:n.button,startIcon:Object(j.jsx)(bt.a,{}),children:g?"Loading...":"Save list"})]}):null]})},pt=n(46),Ot=n.n(pt),mt=n(69),ht=n.n(mt),xt=n(92),kt=n.n(xt),vt=Object(U.a)((function(t){return Object(Z.a)({input_button:{marginTop:10,backgroundColor:"#f1f0f067;"},input_buttons:{marginLeft:10},input:{"& > *":{margin:t.spacing(1),width:"95%"}}})})),gt=function(t){var e=t.list,n=vt(),c=Object(a.useState)(!0),s=Object(i.a)(c,2),r=s[0],o=s[1],u=Object(a.useState)(""),l=Object(i.a)(u,2),d=l[0],b=l[1],f=Object(p.c)(ot),_=Object(p.b)(),O=function(){f||(o(!r),b(""))};return Object(j.jsx)(ut.a,{elevation:0,className:ht.a.tasks_form,children:r?Object(j.jsxs)("div",{onClick:O,children:[Object(j.jsx)(P.a,{className:ht.a.icon_close,children:Object(j.jsx)(kt.a,{})}),Object(j.jsx)("span",{children:"Add new task"})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("form",{className:n.input,noValidate:!0,autoComplete:"off",children:Object(j.jsx)(dt.a,{id:"outlined-basic",label:"New task text...",variant:"outlined",onChange:function(t){b(t.currentTarget.value)},value:d,type:"text"})}),Object(j.jsxs)("div",{className:n.input_buttons,children:[Object(j.jsx)(lt.a,{onClick:function(){var t={listId:e.id,text:d,completed:!1};_(function(t,e){return function(){var n=Object(h.a)(m.a.mark((function n(a){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(F(!0)),n.next=3,A(t);case 3:c=n.sent,a(X()),a(V(e,c.data)),a(F(!1));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,e.id)),O()},variant:"contained",color:"default",children:f?"Adding...":"Add task"}),Object(j.jsx)("div",{children:Object(j.jsx)(lt.a,{className:n.input_button,onClick:O,variant:"contained",color:"default",children:"Cancel"})})]})]})})},Tt=n(63),It=n(51),Ct=n(178),Et=n(184),Nt=n(93),wt=n.n(Nt),At=Object(U.a)((function(t){return{tasks_header_text:{aligItem:"center"},todo_main_tasks_block:{padding:t.spacing(2)}}})),St=function(t){var e=At(),n=Object(a.useState)(!0),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(p.b)(),u=function(t,e){o(function(t,e){return function(){var n=Object(h.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(D(t,e)),n.next=3,C(e);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,e))},l=function(t,e){var n=window.prompt("Rewrite your task",e.text);n&&o(function(t,e,n){return function(){var a=Object(h.a)(m.a.mark((function a(c){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(B(t,e,n)),a.next=3,E(e,n);case 3:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(t,e.id,n))},d=function(t,e,n){o(function(t,e,n){return function(){var a=Object(h.a)(m.a.mark((function a(c){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(J(t,e,n)),a.next=3,N(e,n);case 3:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(t,e,n))};return Object(j.jsxs)("div",{className:Ot.a.todo_main_tasks,children:[Object(j.jsx)(Tt.b,{className:Ot.a.tasks_header_text,to:"/lists/".concat(t.list.id),children:Object(j.jsx)(ut.a,{elevation:0,className:Ot.a.tasks_header_tpaper,children:Object(j.jsxs)(It.a,{variant:"h6",onClick:function(){var e,n,a=window.prompt("Write new title",t.list.name);a&&o((e=t.list.id,n=a,function(){var t=Object(h.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(e,n)),t.next=3,y(e,n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},className:Ot.a.todo_main_tasks_title,style:{color:t.list.color.hex},children:[t.list.name," "]})})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:t.list.tasks&&t.list.tasks.map((function(n){return Object(j.jsxs)(ut.a,{elevation:0,className:e.todo_main_tasks_block,children:[Object(j.jsx)(Ct.a,{control:Object(j.jsx)(Et.a,{checked:n.completed,onChange:function(t){d(n.listId,n.id,t.target.checked)},name:"checkedA"}),label:s?n.text:null}),Object(j.jsx)(a.Fragment,{children:s?Object(j.jsx)("span",{className:Ot.a.todo_main_input_block,children:!t.withoutInput&&Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(P.a,{children:Object(j.jsx)(wt.a,{onClick:function(){l(n.listId,{id:n.id,text:n.text})}})}),Object(j.jsx)(P.a,{children:Object(j.jsx)(tt.a,{onClick:function(){u(n.listId,n.id)}})})]})}):Object(j.jsx)("input",{type:"text",onBlur:function(){r(!0)}})})]},n.id)}))}),Object(j.jsx)(ut.a,{elevation:0,className:e.todo_main_tasks_block,children:t.list.tasks&&0===t.list.tasks.length&&Object(j.jsx)(It.a,{variant:"h6",children:"There are no current issues"})})]}),Object(j.jsx)("div",{children:!t.withoutInput&&Object(j.jsx)(gt,{list:t.list},t.list.id)})]})},yt=n(13),Lt=n(183),Gt=n(179),Wt=n(180),Kt=n(181),Rt=n(64),Ft=n(94),Ht=Object(Rt.b)({lists:z}),Vt=Object(Rt.c)(Ht,Object(Rt.a)(Ft.a)),Dt=Object(U.a)((function(t){return{appbar:{height:50},todo_main:{marginTop:t.spacing(10),marginBottom:50},todo_main_all_tasks:{marginBottom:t.spacing(2)},appbar_text:{marginLeft:150,padding:10}}})),Mt=Object(yt.g)((function(){var t=Dt(),e=Object(p.c)(st),n=Object(p.c)(it),c=Object(p.c)(rt),s=Object(p.b)(),i=Object(yt.e)(),r=Object(yt.f)();return Object(a.useEffect)((function(){s(X()),s(function(){var t=Object(h.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:n=t.sent,e(W(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){var t=r.pathname.split("lists/")[1];if(e){var n=e.find((function(e){return e.id===Number(t)}));s(K(n))}}),[e,r.pathname]),Object(j.jsx)(Lt.a,{children:Object(j.jsxs)(Gt.a,{maxWidth:"lg",children:[Object(j.jsx)(Wt.a,{position:"fixed",className:t.appbar,style:{backgroundColor:c?c.color.hex:"grey"},children:Object(j.jsx)(It.a,{className:t.appbar_text,variant:"h6",children:"ToDo - Create your perfect list :)"})}),Object(j.jsxs)(Kt.a,{className:t.todo_main,container:!0,spacing:2,children:[Object(j.jsxs)(Kt.a,{item:!0,xs:5,children:[Object(j.jsx)("div",{className:t.todo_main_all_tasks,children:Object(j.jsx)(nt,{onClickItem:function(){return i.push("/")},items:[{icon:Object(j.jsx)("i",{className:"fas fa-align-justify"}),name:"All tasks"}]})}),e?Object(j.jsx)(nt,{onClickItem:function(t){return i.push("/lists/".concat(t.id))},activeItem:c,isRemovable:!0,items:e}):"Loading...",Object(j.jsx)(_t,{colors:n})]}),Object(j.jsxs)(Kt.a,{item:!0,xs:7,children:[Object(j.jsx)(yt.a,{exact:!0,path:"/",children:e&&e.map((function(t){return Object(j.jsx)(St,{withoutInput:!0,list:t},t.id)}))}),Object(j.jsxs)(yt.a,{path:"/lists/:id",children:[e&&c&&Object(j.jsx)(St,{list:c,withoutInput:!1})," "]})]})]})]})})})),Bt=function(){return Object(j.jsx)(Mt,{})},Jt=function(){return Object(j.jsx)(Tt.a,{children:Object(j.jsx)(p.a,{store:Vt,children:Object(j.jsx)(Bt,{})})})};s.a.render(Object(j.jsx)(Jt,{}),document.getElementById("root"))},46:function(t,e,n){t.exports={tasks_header_text:"Tasks_tasks_header_text__1c6JB",tasks_header_tpaper:"Tasks_tasks_header_tpaper__1GtXF",todo_main_tasks_title:"Tasks_todo_main_tasks_title__3E1ZA",todo_main_icon_changes:"Tasks_todo_main_icon_changes__2g4rH",todo_main_input_block:"Tasks_todo_main_input_block__3W7MR"}},50:function(t,e,n){t.exports={active:"AddList_active__nSziQ",add_list:"AddList_add_list__3WZ1V",add_list_popup_close:"AddList_add_list_popup_close__2Y43A",add_list_popup_colors:"AddList_add_list_popup_colors__3Ko_V",icon_close:"AddList_icon_close__2Ejzi"}},68:function(t,e,n){t.exports={badge:"Badge_badge__1NpMd",active:"Badge_active__28G59"}},69:function(t,e,n){},84:function(t,e,n){t.exports={todo__list_remove:"List_todo__list_remove__2HeWc",filter:"List_filter__1Jxe3"}}},[[146,1,2]]]);
//# sourceMappingURL=main.afee723f.chunk.js.map